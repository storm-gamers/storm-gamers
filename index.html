<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Game Portal Login</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="login-box" id="loginBox">
      <h1>⚡ GAME PORTAL ⚡</h1>
      <form id="loginForm">
        <input type="text" name="name" placeholder="Enter Your Name" required>
        <input type="email" name="email" placeholder="Enter Your Email" required>
        <input type="password" name="password" placeholder="Enter Password" required>
        <button type="submit">Enter</button>
      </form>
      <p>Powered by Napolean Warrior ⚔️</p>
    </div>
    <div id="gameContainer" style="display:none; text-align:center;">
      <!-- We will load the clone inside here -->
      <div id="flappyWrapper"></div>
    </div>
  </div>

  <canvas id="background"></canvas>

  <!-- Script to handle login + inject clone -->
  <script>
    const form = document.getElementById('loginForm');
    form.addEventListener('submit', e => {
      e.preventDefault();
      // you can keep your fetch / Google-Sheet logic if needed...
      document.getElementById('loginBox').style.display = 'none';
      document.getElementById('gameContainer').style.display = 'block';

      // Load the clone’s HTML via fetch and inject
      fetch('https://raw.githubusercontent.com/nidhiupman568/FLAPPY-BIRD-GAME/main/index.html')
      .then(res => res.text())
      .then(html => {
        const wrapper = document.getElementById('flappyWrapper');
        // strip <!DOCTYPE>, <html>, <head>, <body> tags and take only body content
        const bodyContent = html.split('<body')[1].split('</body>')[0];
        wrapper.innerHTML = bodyContent;

        // load its CSS
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = 'https://raw.githubusercontent.com/nidhiupman568/FLAPPY-BIRD-GAME/main/flappybird.css';
        document.head.appendChild(link);

        // load its JS
        const script = document.createElement('script');
        script.src = 'https://raw.githubusercontent.com/nidhiupman568/FLAPPY-BIRD-GAME/main/flappybird.js';
        document.body.appendChild(script);
      })
      .catch(err => {
        console.error('Failed to load game clone', err);
      });
    });
  </script>
</body>
</html>
